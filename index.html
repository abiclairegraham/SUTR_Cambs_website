<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Stand Up To Racism â€” Cambridge branch" />
  <title>Stand Up To Racism â€” Cambridge</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  
  <!--ðŸŸ¦ðŸŸ§ðŸŸªðŸŸ©IMPORTING MY STYLE SHEETðŸŸ¦ðŸŸ§ðŸŸªðŸŸ©-->
  <link rel="stylesheet" href="css/styles.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"> 

  <!-- Cloudflare Web Analytics -->
  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "ed9748ea56914a35b2c07dd39eed1f4f"}'>  
  </script><!-- End Cloudflare Web Analytics -->

  <!-- Include helper (loads partials like partials/header.html) -->
  <script defer src="assets/js/include.js"></script>
  
</head>


<!--ðŸŸ¦ðŸŸ§ðŸŸªðŸŸ©BODY OF THE WEBPAGEðŸŸ¦ðŸŸ§ðŸŸªðŸŸ©-->
<body>
  <a href="#main" class="skip-link">Skip to content</a>

  <!--âœ… IMPORTING THE HEADER SECTION âœ…-->
  
  <div data-include="partials/header.html"></div>
  
  <main id="main" role="main">
    
    <!--âœ… IMPORTING HERO BANNER âœ…-->

    <div data-include="partials/hero.html"></div>

    <!-- âœ… IMPORTING DONATE BUTTONS AND STANDING ORDER, OTHER WAYS TO HELP âœ… -->

    <div data-include="partials/donate.html"></div>
    
    <!-- âœ… IMPORTING SIGNUP FORM (MAILCHIMP) SECTION âœ… -->
    <div data-include="partials/signup.html"></div>
 
   <!-- âœ… IMPORTING RESOURCES SECTION âœ… -->
    <div data-include="partials/resources.html"></div>
    
   <!-- âœ… IMPORTING LOCAL NEWS SECTION âœ… -->
    <div data-include="partials/news.html"></div>
        
    <!-- âœ… IMPORTING EVENTS SECTION âœ… -->
    <div data-include="partials/events.html"></div>
  
    <!-- âœ… IMPORTING FACEBOOK FEED & YOUTUBE âœ… -->
     <div data-include="partials/social-links.html"></div>

  </main>

  <!--ðŸŸ¦ðŸŸ§ðŸŸªðŸŸ© FOOTER ðŸŸ¦ðŸŸ§ðŸŸªðŸŸ©-->

 <div data-include="partials/footer.html"></div>

<!--ðŸŸ¦ðŸŸ§ðŸŸªðŸŸ© SCRIPTS ðŸŸ¦ðŸŸ§ðŸŸªðŸŸ©-->
 
<!-- One place to update the year after includes -->
<script>
  document.addEventListener('includes:loaded', () => {
    const y = document.getElementById('year');
    if (y) y.textContent = new Date().getFullYear();
  });
</script>

<!-- News init: only once, after includes are done -->
<script type="module">
  import { initNews } from "./assets/js/news.js";
  document.addEventListener("includes:loaded", () => {
    initNews();
  });
</script>

<!-- Facebook SDK root (keep this before the SDK script) -->
<div id="fb-root"></div>

<!-- FB SDK (async) -->
<script async defer crossorigin="anonymous"
  src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v17.0"></script>

<!-- Wire FB ready + re-parse after partials -->
<script>
  // Fire when FB SDK is ready
  window.fbAsyncInit = function() {
    FB.init({ xfbml: true, version: 'v17.0' });
    document.dispatchEvent(new Event('fb:ready'));
  };

  // After partials are injected, (re)parse any fb-* elements
  document.addEventListener('includes:loaded', () => {
    const social = document.getElementById('social'); // from your partial
    if (!social) return;

    if (window.FB && FB.XFBML && typeof FB.XFBML.parse === 'function') {
      FB.XFBML.parse(social); // Parse only the social section
    } else {
      // If SDK not ready yet, wait once and then parse
      const onReady = () => {
        FB.XFBML.parse(social);
        document.removeEventListener('fb:ready', onReady);
      };
      document.addEventListener('fb:ready', onReady);
    }
  });
</script>
  
</body>

</html>
